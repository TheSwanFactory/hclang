"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const frames_1 = require("../frames");
const terminate = (source, parameter) => {
    return source.finish(parameter);
};
class Terminal extends frames_1.Frame {
    constructor(data) {
        super(frames_1.NilContext);
        this.data = data;
        this.callme = true;
    }
    static end() { return new Terminal(terminate); }
    ;
    apply(argument, parameter) {
        return this.data(argument, parameter);
    }
    toData() { return this.data; }
}
exports.Terminal = Terminal;
exports.terminals = {};
const perform = (actions) => {
    return (source, parameter) => {
        return source.perform(actions);
    };
};
exports.terminals[frames_1.Frame.kEND] = Terminal.end();
exports.terminals["\n"] = new Terminal(perform({ next: frames_1.Frame.nil }));
exports.terminals["("] = new Terminal(perform({ push: frames_1.Frame.nil }));
exports.terminals[")"] = new Terminal(perform({ pop: frames_1.Frame.nil }));
exports.terminals["["] = new Terminal(perform({ push: frames_1.Frame.nil }));
exports.terminals["]"] = new Terminal(perform({ pop: frames_1.Frame.nil }));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVybWluYWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2V4ZWN1dGUvdGVybWluYWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsc0NBQXVEO0FBUXZELE1BQU0sU0FBUyxHQUFtQixDQUFDLE1BQWEsRUFBRSxTQUFnQixFQUFFLEVBQUU7SUFDcEUsT0FBUSxNQUFrQixDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUMvQyxDQUFDLENBQUM7QUFFRixNQUFhLFFBQVMsU0FBUSxjQUFLO0lBR2pDLFlBQXNCLElBQW9CO1FBQ3hDLEtBQUssQ0FBQyxtQkFBVSxDQUFDLENBQUM7UUFERSxTQUFJLEdBQUosSUFBSSxDQUFnQjtRQUV4QyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztJQUNyQixDQUFDO0lBTE0sTUFBTSxDQUFDLEdBQUcsS0FBSyxPQUFPLElBQUksUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUFBLENBQUM7SUFPakQsS0FBSyxDQUFDLFFBQWUsRUFBRSxTQUFnQjtRQUM1QyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFFUyxNQUFNLEtBQVUsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztDQUM5QztBQWJELDRCQWFDO0FBRVksUUFBQSxTQUFTLEdBQVksRUFDakMsQ0FBQztBQUVGLE1BQU0sT0FBTyxHQUFHLENBQUMsT0FBZ0IsRUFBRSxFQUFFO0lBQ25DLE9BQU8sQ0FBQyxNQUFhLEVBQUUsU0FBZ0IsRUFBRSxFQUFFO1FBQ3pDLE9BQVEsTUFBcUIsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDakQsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsaUJBQVMsQ0FBQyxjQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ3ZDLGlCQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxRQUFRLENBQUMsT0FBTyxDQUFDLEVBQUMsSUFBSSxFQUFFLGNBQUssQ0FBQyxHQUFHLEVBQUMsQ0FBQyxDQUFDLENBQUM7QUFDM0QsaUJBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLFFBQVEsQ0FBQyxPQUFPLENBQUMsRUFBQyxJQUFJLEVBQUUsY0FBSyxDQUFDLEdBQUcsRUFBQyxDQUFDLENBQUMsQ0FBQztBQUMxRCxpQkFBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFDLEdBQUcsRUFBRSxjQUFLLENBQUMsR0FBRyxFQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3pELGlCQUFTLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxRQUFRLENBQUMsT0FBTyxDQUFDLEVBQUMsSUFBSSxFQUFFLGNBQUssQ0FBQyxHQUFHLEVBQUMsQ0FBQyxDQUFDLENBQUM7QUFDMUQsaUJBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLFFBQVEsQ0FBQyxPQUFPLENBQUMsRUFBQyxHQUFHLEVBQUUsY0FBSyxDQUFDLEdBQUcsRUFBQyxDQUFDLENBQUMsQ0FBQyJ9